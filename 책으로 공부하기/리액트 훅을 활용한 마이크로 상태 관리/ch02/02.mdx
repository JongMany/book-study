# ì§€ì—­ ìƒíƒœì™€ ì „ì—­ ìƒíƒœ ì‚¬ìš©í•˜ê¸°

### ì–¸ì œ ì§€ì—­ ìƒíƒœë¥¼ ì‚¬ìš©í•˜ëŠ”ê°€?

ìƒíƒœëŠ” ì¸ìˆ˜ ì™¸ë¶€ì˜ ê°’ì„ ë§í•˜ë©°, ìƒíƒœì— ì˜ì¡´í•˜ëŠ” í•¨ìˆ˜ëŠ” ìˆœìˆ˜í•˜ì§€ ì•ŠìŒ
â¡ï¸ ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì—ì„œ ìƒíƒœë¥¼ ì‚¬ìš©í•  ê²½ìš° ìˆœìˆ˜í•˜ì§€ ì•Šì€ í•¨ìˆ˜ì„

í•˜ì§€ë§Œ ìƒíƒœê°€ íŠ¹ì • ì»´í¬ë„ŒíŠ¸ ë‚´ë¶€ì—ì„œë§Œ ì‚¬ìš©ëœë‹¤ë©´ ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì˜í–¥ì„ ë¯¸ì¹˜ì§€ ì•Šê²Œ ë¨ â¡ï¸ ì–µì œëœ(contained) í•¨ìˆ˜ë¡œ í‘œí˜„

#### 1) í•¨ìˆ˜ì™€ ì¸ìˆ˜

ìˆœìˆ˜ í•¨ìˆ˜

```js
const addOne = (n) => n + 1;
```

ë¹„ìˆœìˆ˜ í•¨ìˆ˜

```js
let base = 1;
const addBase = (n) => n + base;
```

ì „ì—­ ë³€ìˆ˜ `base`ì— ì˜ì¡´

ì´ ë°©ì‹ì´ ë¬´ì¡°ê±´ ë‚˜ìœ ê²ƒì€ ì•„ë‹˜. í•¨ìˆ˜ ì™¸ë¶€ì—ì„œ í•¨ìˆ˜ ì‘ë™ ë°©ì‹ì„ ë³€ê²½í•  ìˆ˜ ìˆìŒ.
ê·¸ëŸ¬ë‚˜ ì™¸ë¶€ ë³€ìˆ˜ì— ì˜ì¡´ì ì´ë¼ëŠ” ê²ƒì„ ëª¨ë¥¼ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ìœ„í—˜í•œ ê²ƒì„ (íŠ¸ë ˆì´ë“œ ì˜¤í”„ë¥¼ ì˜ ìƒê°í•´ì•¼ í•¨)

ğŸ¤¨ ê¸°ìˆ ì ìœ¼ë¡œ ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ ë³€ìˆ˜ëŠ” ì‹±ê¸€í„´ì´ë¼ í•  ìˆ˜ ìˆìŒ.
í•œ ë²ˆ ìƒì„±ëœ ì „ì—­ë³€ìˆ˜ëŠ” window ê°ì²´ì— ë“±ë¡ë˜ë©° ì´í›„ ì°¸ì¡°í•  ê²½ìš° window ê°ì²´ì— ë“±ë¡ëœ ê°’ì„ ë°˜í™˜í•˜ê¸° ë•Œë¬¸ì„.

baseê°€ ì „ì—­ë³€ìˆ˜(ì‹±ê¸€í„´)ì¼ ê²½ìš° ì½”ë“œ ì¬ì‚¬ìš©ì„±ì´ ë–¨ì–´ì§€ë¯€ë¡œ ë‹¤ìŒ ê°™ì´ ì»¨í…Œì´ë„ˆ ê°ì²´ë¥¼ ë§Œë“œëŠ” ê²ƒì´ ë” ëª¨ë“ˆí™”ëœ ì ‘ê·¼ ë°©ì‹ì„.

```js
const createContainer = () => {
  let base = 1;
  const addBase = (n) => n + base;
  const changeBase = (b) => {
    base = b;
  };
  return { addBase, changeBase };
};

const { addBase, changeBase } = createContainer();
```

ì—¬ê¸°ì—ì„œì˜ addBaseê°€ ìˆ˜í•™ì ìœ¼ë¡œ ìˆœìˆ˜í•œ í•¨ìˆ˜ëŠ” ì•„ë‹ˆì§€ë§Œ changeBaseë¥¼ í†µí•´ baseë¥¼ ë³€ê²½í•˜ì§€ ì•ŠëŠ” ì´ìƒ addBaseë¥¼ í˜¸ì¶œí•˜ë©´ í•­ìƒ ë™ì¼í•œ ê²°ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆë‹¤. ì´ë¥¼ ë©±ë“±ì„±ì´ë¼ê³  ë¶€ë¦„

#### 2) ì§€ì—­ ìƒíƒœì— ëŒ€í•œ useState ì´í•´í•˜ê¸°

```jsx
const AddBase = ({ number }) => {
  const [base, changeBase] = useState(1);
  return <div>{base + number}</div>;
};
```

ì´ í•¨ìˆ˜ëŠ” ì¸ìˆ˜ì— í¬í•¨ë˜ì§€ ì•ŠëŠ” `base`ì—ë„ ì˜ì¡´í•˜ë¯€ë¡œ ìˆœìˆ˜í•˜ì§€ ì•ŠìŒ.

í•˜ì§€ë§Œ `changeBase`ë¡œ baseë¥¼ ë³€ê²½í•˜ì§€ ì•ŠëŠ” í•œ ë°˜í™˜í•˜ëŠ” ê°’ì€ ë™ì¼í•˜ë¯€ë¡œ ë©±ë“±ì„±ì„ ì§€ë‹˜

`changeBase`ëŠ” í•¨ìˆ˜ ì„ ì–¸ ë²”ìœ„ ë‚´ì—ì„œë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ì–µì œëœ ê²ƒì„.
â¡ï¸ `useState`ëŠ” ì§€ì—­ìƒíƒœë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì„!

ì»´í¬ë„ŒíŠ¸ëŠ” ì–µì œë˜ì—ˆê³ , ì»´í¬ë„ŒíŠ¸ ì™¸ë¶€ì˜ ê·¸ ì–´ë–¤ ê²ƒì—ë„ ì˜í–¥ì„ ë¯¸ì¹˜ì§€ ì•Šìœ¼ë¯€ë¡œ ì§€ì—­ì„±ì„ ë³´ì¥í•¨

#### 3) ì§€ì—­ìƒíƒœì˜ í•œê³„

ì§€ì—­ì„±ì„ ì œê³µí•˜ê³  ì‹¶ì§€ ì•Šì„ ë•Œ, ì§€ì—­ ìƒíƒœë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì ì ˆí•˜ì§€ ì•ŠìŒ.

í•¨ìˆ˜ ì»´í¬ë„ŒíŠ¸ ì™¸ë¶€ì—ì„œ ìƒíƒœë¥¼ ë³€ê²½í•´ì•¼ í•œë‹¤ë©´ ì „ì—­ ìƒíƒœê°€ í•„ìš”í•¨.

ì „ì—­ ìƒíƒœëŠ” ì»´í¬ë„ŒíŠ¸ ì™¸ë¶€ì—ì„œ ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ì˜ ë™ì‘ì„ ì œì–´í•  ë•Œ ìœ ìš©í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆìœ¼ë‚˜ ì»´í¬ë„ŒíŠ¸ ë™ì‘ì„ ì˜ˆì¸¡í•˜ê¸° ì–´ë µë‹¤ëŠ” ë‹¨ì ì´ ìˆìŒ

â¡ï¸ ì§€ì—­ ìƒíƒœë¥¼ ê¸°ë³¸ìœ¼ë¡œ í•˜ê³ , ì „ì—­ ìƒíƒœëŠ” ë³´ì¡° ìˆ˜ë‹¨ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ìŒ

---

### ì§€ì—­ ìƒíƒœë¥¼ íš¨ê³¼ì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ë°©ë²•

#### 1) ìƒíƒœ ëŒì–´ì˜¬ë¦¬ê¸°

ìƒìœ„ ì»´í¬ë„ŒíŠ¸ íŠ¸ë¦¬ì—ì„œ ìƒíƒœë¥¼ ì •ì˜í•˜ê¸°

- ë‹¨ì : ì„±ëŠ¥ ë¬¸ì œ -> ìƒíƒœë¥¼ ìƒìœ„ ì»´í¬ë„ŒíŠ¸ë¡œ ì „ë‹¬í•  ê²½ìš°, ëª¨ë“  ìì‹ ì»´í¬ë„ŒíŠ¸ë“¤ì„ ë¦¬ë Œë”ë§í•  ìˆ˜ ìˆìŒ

#### 2) ë‚´ìš© ëŒì–´ì˜¬ë¦¬ê¸°

ìƒìœ„ ì»´í¬ë„ŒíŠ¸ì—ì„œ ë‚´ìš©ì„ ì •ì˜í•˜ê¸°

AS-IS

```js
const AdditionalInfo = () => {
  return <p>Some Information</p>
}

const Component1 = ({count, setCount}) => {
  return (
    <div>
      {count}
      <button onClick={() => setCount(c=> c + 1)}> + </button>
      <AdditionalInfo>
    </div>
  );
}

const Component2 = ({count, setCount}) => {
  return (
    <div>
      {count}
      <button onClick={() => setCount(c=> c + 1)}>+</button>
    </div>
  );
}

const Parent = () => {
  const [count, setCount] = useState();
  return (
    <>
      <Component1 count={count} setCount={setCount} />
      <Component2 count={count} setCount={setCount} />
    </>
  )
}
```

- ë¬¸ì œì : count ê°€ ë³€ê²½ë˜ë©´ Parentê°€ ë¦¬ë Œë”ë§ í›„, Component1, Component2, AdditionalInfo ëª¨ë‘ ë Œë”ë§ë¨. ê·¸ëŸ¬ë‚˜ AdditionalInfoëŠ” countì— ì˜ì¡´í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ë¶ˆí•„ìš”í•œ ë Œë”ë§ì„.
- í•´ê²°ë°©ì•ˆ: JSX ìš”ì†Œë¥¼ ìµœìƒìœ„ ì»´í¬ë„ŒíŠ¸ë¡œ ëŒì–´ì˜¬ë¦¬ê¸°

1. ì»´í¬ë„ŒíŠ¸ë¥¼ Propsë¡œ ì „ë‹¬

   TO-BE

   ```js
   const AdditionalInfo = () => {
     return <p>Some Information</p>;
   };

   const Component1 = ({ count, setCount, additionalInfo }) => {
     return (
       <div>
         {count}
         <button onClick={() => setCount((c) => c + 1)}> + </button>
         {additionalInfo}
       </div>
     );
   };

   const Component2 = ({ count, setCount }) => {
     return (
       <div>
         {count}
         <button onClick={() => setCount((c) => c + 1)}>+</button>
       </div>
     );
   };

   const Parent = ({ additionalInfo }) => {
     const [count, setCount] = useState();
     return (
       <>
         <Component1
           count={count}
           setCount={setCount}
           additionalInfo={additionalInfo}
         />
         <Component2 count={count} setCount={setCount} />
       </>
     );
   };

   const GrandParent = () => {
     return <Parent additionalInfo={<AdditionalInfo />} />;
   };
   ```

2. children Props ì‚¬ìš©

   TO-BE

   ```js
   const AdditionalInfo = () => {
     return <p>Some Information</p>
   }

   const Component1 = ({count, setCount, children}) => {
     return (
       <div>
         {count}
         <button onClick={() => setCount(c=> c + 1)}> + </button>
         {children}
       </div>
     );
   }

   const Component2 = ({count, setCount}) => {
     return (
       <div>
         {count}
         <button onClick={() => setCount(c=> c + 1)}>+</button>
       </div>
     );
   }

   const Parent = ({children}) => {
     const [count, setCount] = useState();
     return (
       <>
         <Component1 count={count} setCount={setCount}>
           {children}
         </Component1>
         <Component2 count={count} setCount={setCount} />
       </>
     )
   }

   const GrandParent = () => {
     return (
       <Parent additionalInfo={} >
         <AdditionalInfo />
       </Parent>
     );
   }
   ```

---

### ì „ì—­ ìƒíƒœ ì‚¬ìš©í•˜ê¸°

#### 1) ì „ì—­ ìƒíƒœë€?

ì „ì—­ ìƒíƒœ: í•˜ë‚˜ì˜ ì»´í¬ë„ŒíŠ¸ì—ë§Œ ì†í•˜ì§€ ì•Šê³  ì—¬ëŸ¬ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ìƒíƒœ

ì¼ë°˜ì ìœ¼ë¡œ ì´ì•¼ê¸°í•˜ëŠ” ì „ì—­ ìƒíƒœì˜ 2ê°€ì§€ ì¸¡ë©´

1. ì‹±ê¸€í„´. íŠ¹ì • ì»¨í…ìŠ¤íŠ¸ì—ì„œ ìƒíƒœê°€ í•˜ë‚˜ì˜ ê°’ì„ ê°€ì§€ê³  ìˆë‹¤ëŠ” ê²ƒ
2. ê³µìœ  ìƒíƒœ. ìƒíƒœ ê°’ì´ ë‹¤ë¥¸ ì»´í¬ë„ŒíŠ¸ ê°„ì— ê³µìœ ëœë‹¤ëŠ” ê²ƒ.  
   (JS ë©”ëª¨ë¦¬ ìƒì—ì„œ ë‹¨ì¼ ê°’ì¼ í•„ìš”ê°€ ì—†ìœ¼ë©° ì‹±ê¸€í„´ì´ ì•„ë‹Œ ì „ì—­ ìƒíƒœëŠ” ì—¬ëŸ¬ ê°’ì„ ê°€ì§ˆ ìˆ˜ ìˆë‹¤.)

ì‹±ê¸€í„´ì´ ì•„ë‹Œ ì „ì—­ ìƒíƒœì˜ ì‘ë™ ë°©ì‹

```js
const createContainer = () => {
  let base = 1;
  const addBase = (n) => n + base;
  const changeBase = (b) => {
    base = b;
  };
  return { addBase, changeBase };
};

const container1 = createContainer();
const container2 = createContainer();

container1.changeBase(10);

console.log(container1.addBase(2)); // 12
console.log(container1.addBase(2)); // 3
```

baseëŠ” ì»¨í…Œì´ë„ˆ ìŠ¤ì½”í”„ ë‚´ì—ì„œ ìƒì„±ëœ ë³€ìˆ˜ì´ë©°, ê° ì»¨í…Œì´ë„ˆ ê²©ë¦¬ë˜ì–´ ìˆìœ¼ë¯€ë¡œ ë‘ ì»¨í…Œì´ë„ˆ ì‚¬ì´ì—ì„œ ì˜í–¥ì„ ë¯¸ì¹˜ì§€ ì•ŠìŒ.

ë§Œì•½ ì „ì—­ ìƒíƒœê°€ ì‹±ê¸€í„´ì¸ ê²½ìš° ë©”ëª¨ë¦¬ì— í•˜ë‚˜ì˜ ê°’ìœ¼ë¡œë§Œ ì¡´ì¬í•˜ê²Œ ë¨.
ì‹±ê¸€í„´ì´ ì•„ë‹Œ ê²½ìš° ì»´í¬ë„ŒíŠ¸ íŠ¸ë¦¬ì˜ ë‹¤ë¥¸ ë¶€ë¶„ì— ëŒ€í•´ ì—¬ëŸ¬ ê°’ì„ ê°€ì§ˆ ìˆ˜ ìˆê²Œ ë¨

#### 2) ì–¸ì œ ì „ì—­ ìƒíƒœë¥¼ ì‚¬ìš©í• ê¹Œ?

2ê°€ì§€ ìƒí™©

1. propì„ ì „ë‹¬í•˜ëŠ” ê²ƒì´ ì ì ˆí•˜ì§€ ì•Šì„ ë•Œ  
   prop drilling ë¬¸ì œê°€ ë°œìƒí•˜ë¯€ë¡œ, ì „ì—­ ìƒíƒœë¥¼ ì‚¬ìš©í•˜ì
2. ì´ë¯¸ ë¦¬ì•¡íŠ¸ ì™¸ë¶€ì— ìƒíƒœê°€ ìˆì„ ë•Œ,
   ì™¸ë¶€ì— ì „ì—­ ìƒíƒœë¥¼ ë‘ëŠ” í¸ì´ ê°„ë‹¨í•œ ê²½ìš°ê°€ ì¡´ì¬.

ì „ì—­ ìƒíƒœë¥¼ ë§Œë“œëŠ” 3ê°€ì§€ ë°©ë²•

1. ë¦¬ì•¡íŠ¸ ì»¨í…ìŠ¤íŠ¸
2. êµ¬ë…ì„ ì´ìš©í•œ ëª¨ë“ˆ ìƒíƒœ ê³µìœ 
3. ë¦¬ì•¡íŠ¸ ì»¨í…ìŠ¤íŠ¸ì™€ êµ¬ë…ì„ ì´ìš©í•œ ì»´í¬ë„ŒíŠ¸ ìƒíƒœ ê³µìœ 
